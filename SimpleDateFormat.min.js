function simpleDateFormat(a,b){this.locale=b&&(b=="es_US"||b=="en_CA"||b=="fr_CA"||b=="en_GB")?b:"en_US";this.applyPattern=function(a){this.pattern=a||(this.locale=="en_CA"||this.locale=="fr_CA"||this.locale=="en_GB"?"d/M/yy":"M/d/yy")};this.applyPattern(a);this.format=function(a){a=a||new Date;if(!(a instanceof Date)){var c=a.split("T")[0].split("-"),d=a.split("T").length>1?a.split("T")[1].split(".")[0].split("Z")[0].split("-")[0].split(":"):["00","00","00"];a=new Date(c[0],c[1]-1,c[2],d[0],d[1],d[2])}var e=function(a){a=""+a;return a.indexOf("0")==0&&a!="0"?a.substring(1):a};var f=function(a){a=Number(a);return isNaN(a)?"00":(a<10?"0":"")+a};var g={month:f(a.getMonth()+1),date:f(a.getDate()),year:f(a.getFullYear()),day:a.getDay(),hour24:a.getHours(),hour12:a.getHours(),minutes:f(a.getMinutes()),ampm:"AM"};if(g.hour24>11){g.ampm="PM"}g.hour24=f(g.hour24);if(g.hour12==0){g.hour12=12}if(g.hour12>12){g.hour12=g.hour12-12}g.hour12=f(g.hour12);var h;var k=function(a){var c=a.replace(/yy+(?=y)/g,"yy").replace(/MMM+(?=M)/g,"MMM").replace(/d+(?=d)/g,"d").replace(/EEE+(?=E)/g,"EEE").replace(/a+(?=a)/g,"").replace(/k+(?=k)/g,"k").replace(/h+(?=h)/g,"h").replace(/m+(?=m)/g,"m");var d=c.replace(/yyy/g,g.year).replace(/yy/g,g.year.substring(2)).replace(/y/g,g.year).replace(/dd/g,g.date).replace(/d/g,e(g.date)),h=function(a,b,c){for(i=1;i<a.length;i++){if(!isNaN(a[i].substring(0,1))){var d=a[i].substring(0,2);a[i]=a[i].substring(2);if(isNaN(d.substring(1))){a[i]=d.substring(1)+a[i];d=d.substring(0,1)}d=Number(d);if(d>23){d=23}var e=c=="+"?d:0-d;if(b=="kk"||b=="k"){e=Number(g.hour24)+e;if(e>24){e=e-24}else if(e<0){e=e+24}}else{e=Number(g.hour12)+e;if(e>24){e=e-24}else if(e<0){e=e+24}if(e>12){e=e-12}}e=""+e;if(b=="kk"||b=="hh"){e=f(e)}if(b=="h"&&e==0||b=="hh"&&e=="00"){e="12"}a[i]=e+a[i]}}return a.join("")};if(d.indexOf("k+")!=-1){d=h(d.split("kk+"),"kk","+");d=h(d.split("k+"),"k","+")}if(d.indexOf("k-")!=-1){d=h(d.split("kk-"),"kk","-");d=h(d.split("k-"),"k","-")}d=d.replace(/kk/g,g.hour24).replace(/k/g,e(g.hour24));if(d.indexOf("h+")!=-1){d=h(d.split("hh+"),"hh","+");d=h(d.split("h+"),"h","+")}if(d.indexOf("h-")!=-1){d=h(d.split("hh-"),"hh","-");d=h(d.split("h-"),"h","-")}d=d.replace(/hh/g,g.hour12<12&&g.hour12.indexOf&&g.hour12.indexOf("0")!=0?"0"+g.hour12:g.hour12).replace(/h/g,e(g.hour12));d=d.replace(/mm/g,g.minutes).replace(/m/g,e(g.minutes));d=d.replace(/a/g,"A");var j=["January","February","march","april","may","June","July","august","September","October","November","December"];if(b=="es_US"){j=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]}if(b=="fr_CA"){j=["janvier","f&#233;vrier","mars","avril","mai","juin","juillet","ao&#251;t","septembre","octobre","novembre","d&#233;cembre"]}d=d.replace(/MMMM/g,j[Number(g.month)-1]).replace(/MMM/g,j[Number(g.month)-1].substring(0,3)).replace(/MM/g,g.month).replace(/M/g,e(g.month)).replace(/march/g,"March").replace(/may/g,"May").replace(/Mayo/g,"mayo");var k=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];if(b=="es_US"){k=["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]}if(b=="fr_CA"){k=["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]}d=d.replace(/EEEE/g,k[g.day]).replace(/EEE/g,k[g.day].substring(0,3)).replace(/EE/g,k[g.day].substring(0,3)).replace(/E/g,k[g.day].substring(0,3));d=d.replace(/A/g,g.ampm).replace(/april/g,"April").replace(/august/g,"August");return d};if(this.pattern.indexOf("'")==-1){h=k(this.pattern)}else{var l=this.pattern.replace(/\'+(?=\')/g,"''").split("''");if(l.length==1){l=this.pattern.split("'");for(i=0;i<l.length;i++){if(i%2==0){l[i]=k(l[i])}}return l.join("")}else{for(i=0;i<l.length;i++){formatPatternParts2=l[i].split("'");for(j=0;j<formatPatternParts2.length;j++){if(j%2==0){formatPatternParts2[j]=k(formatPatternParts2[j])}}l[i]=formatPatternParts2.join("")}return l.join("'")}}return h}}